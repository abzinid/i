(function($){$.fn.theiaStickySidebar=function(options){var defaults={'containerSelector':'','additionalMarginTop':0,'additionalMarginBottom':0,'updateSidebarHeight':true,'minWidth':0,'disableOnResponsiveLayouts':true,'sidebarBehavior':'modern','defaultPosition':'relative','namespace':'TSS'};options=$.extend(defaults,options);options.additionalMarginTop=parseInt(options.additionalMarginTop)||0;options.additionalMarginBottom=parseInt(options.additionalMarginBottom)||0;tryInitOrHookIntoEvents(options,this);function tryInitOrHookIntoEvents(options,$that){var success=tryInit(options,$that);if(!success){console.log('TSS: Body width smaller than options.minWidth. Init is delayed.');$(document).on('scroll.'+options.namespace,function(options,$that){return function(evt){var success=tryInit(options,$that);if(success){$(this).unbind(evt)}}}(options,$that));$(window).on('resize.'+options.namespace,function(options,$that){return function(evt){var success=tryInit(options,$that);if(success){$(this).unbind(evt)}}}(options,$that))}}function tryInit(options,$that){if(options.initialized===true){return true}if($('body').width()<options.minWidth){return false}init(options,$that);return true}function init(options,$that){options.initialized=true;var existingStylesheet=$('#theia-sticky-sidebar-stylesheet-'+options.namespace);if(existingStylesheet.length===0){$('head').append($('<style id="theia-sticky-sidebar-stylesheet-'+options.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'))}$that.each(function(){var o={};o.sidebar=$(this);o.options=options||{};o.container=$(o.options.containerSelector);if(o.container.length==0){o.container=o.sidebar.parent()}o.sidebar.parents().css('-webkit-transform','none');o.sidebar.css({'position':o.options.defaultPosition,'overflow':'visible','-webkit-box-sizing':'border-box','-moz-box-sizing':'border-box','box-sizing':'border-box'});o.stickySidebar=o.sidebar.find('.theiaStickySidebar');if(o.stickySidebar.length==0){var javaScriptMIMETypes=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;o.sidebar.find('script').filter(function(index,script){return script.type.length===0||script.type.match(javaScriptMIMETypes)}).remove();o.stickySidebar=$('<div>').addClass('theiaStickySidebar').append(o.sidebar.children());o.sidebar.append(o.stickySidebar)}o.marginBottom=parseInt(o.sidebar.css('margin-bottom'));o.paddingTop=parseInt(o.sidebar.css('padding-top'));o.paddingBottom=parseInt(o.sidebar.css('padding-bottom'));var collapsedTopHeight=o.stickySidebar.offset().top;var collapsedBottomHeight=o.stickySidebar.outerHeight();o.stickySidebar.css('padding-top',1);o.stickySidebar.css('padding-bottom',1);collapsedTopHeight-=o.stickySidebar.offset().top;collapsedBottomHeight=o.stickySidebar.outerHeight()-collapsedBottomHeight-collapsedTopHeight;if(collapsedTopHeight==0){o.stickySidebar.css('padding-top',0);o.stickySidebarPaddingTop=0}else{o.stickySidebarPaddingTop=1}if(collapsedBottomHeight==0){o.stickySidebar.css('padding-bottom',0);o.stickySidebarPaddingBottom=0}else{o.stickySidebarPaddingBottom=1}o.previousScrollTop=null;o.fixedScrollTop=0;resetSidebar();o.onScroll=function(o){if(!o.stickySidebar.is(":visible")){return}if($('body').width()<o.options.minWidth){resetSidebar();return}if(o.options.disableOnResponsiveLayouts){var sidebarWidth=o.sidebar.outerWidth(o.sidebar.css('float')=='none');if(sidebarWidth+50>o.container.width()){resetSidebar();return}}var scrollTop=$(document).scrollTop();var position='static';if(scrollTop>=o.sidebar.offset().top+(o.paddingTop-o.options.additionalMarginTop)){var offsetTop=o.paddingTop+options.additionalMarginTop;var offsetBottom=o.paddingBottom+o.marginBottom+options.additionalMarginBottom;var containerTop=o.sidebar.offset().top;var containerBottom=o.sidebar.offset().top+getClearedHeight(o.container);var windowOffsetTop=0+options.additionalMarginTop;var windowOffsetBottom;var sidebarSmallerThanWindow=(o.stickySidebar.outerHeight()+offsetTop+offsetBottom)<$(window).height();if(sidebarSmallerThanWindow){windowOffsetBottom=windowOffsetTop+o.stickySidebar.outerHeight()}else{windowOffsetBottom=$(window).height()-o.marginBottom-o.paddingBottom-options.additionalMarginBottom}var staticLimitTop=containerTop-scrollTop+o.paddingTop;var staticLimitBottom=containerBottom-scrollTop-o.paddingBottom-o.marginBottom;var top=o.stickySidebar.offset().top-scrollTop;var scrollTopDiff=o.previousScrollTop-scrollTop;if(o.stickySidebar.css('position')=='fixed'){if(o.options.sidebarBehavior=='modern'){top+=scrollTopDiff}}if(o.options.sidebarBehavior=='stick-to-top'){top=options.additionalMarginTop}if(o.options.sidebarBehavior=='stick-to-bottom'){top=windowOffsetBottom-o.stickySidebar.outerHeight()}if(scrollTopDiff>0){top=Math.min(top,windowOffsetTop)}else{top=Math.max(top,windowOffsetBottom-o.stickySidebar.outerHeight())}top=Math.max(top,staticLimitTop);top=Math.min(top,staticLimitBottom-o.stickySidebar.outerHeight());var sidebarSameHeightAsContainer=o.container.height()==o.stickySidebar.outerHeight();if(!sidebarSameHeightAsContainer&&top==windowOffsetTop){position='fixed'}else if(!sidebarSameHeightAsContainer&&top==windowOffsetBottom-o.stickySidebar.outerHeight()){position='fixed'}else if(scrollTop+top-o.sidebar.offset().top-o.paddingTop<=options.additionalMarginTop){position='static'}else{position='absolute'}}if(position=='fixed'){var scrollLeft=$(document).scrollLeft();o.stickySidebar.css({'position':'fixed','width':getWidthForObject(o.stickySidebar)+'px','transform':'translateY('+top+'px)','left':(o.sidebar.offset().left+parseInt(o.sidebar.css('padding-left'))-scrollLeft)+'px','top':'0px'})}else if(position=='absolute'){var css={};if(o.stickySidebar.css('position')!='absolute'){css.position='absolute';css.transform='translateY('+(scrollTop+top-o.sidebar.offset().top-o.stickySidebarPaddingTop-o.stickySidebarPaddingBottom)+'px)';css.top='0px'}css.width=getWidthForObject(o.stickySidebar)+'px';css.left='';o.stickySidebar.css(css)}else if(position=='static'){resetSidebar()}if(position!='static'){if(o.options.updateSidebarHeight==true){o.sidebar.css({'min-height':o.stickySidebar.outerHeight()+o.stickySidebar.offset().top-o.sidebar.offset().top+o.paddingBottom})}}o.previousScrollTop=scrollTop};o.onScroll(o);$(document).on('scroll.'+o.options.namespace,function(o){return function(){o.onScroll(o)}}(o));$(window).on('resize.'+o.options.namespace,function(o){return function(){o.stickySidebar.css({'position':'static'});o.onScroll(o)}}(o));if(typeof ResizeSensor!=='undefined'){new ResizeSensor(o.stickySidebar[0],function(o){return function(){o.onScroll(o)}}(o))}function resetSidebar(){o.fixedScrollTop=0;o.sidebar.css({'min-height':'1px'});o.stickySidebar.css({'position':'static','width':'','transform':'none'})}function getClearedHeight(e){var height=e.height();e.children().each(function(){height=Math.max(height,$(this).height())});return height}})}function getWidthForObject(object){var width;try{width=object[0].getBoundingClientRect().width}catch(err){}if(typeof width==="undefined"){width=object.width()}return width}return this}})(jQuery);
;
$(function(){function y(t,e){for(var a=0;a<t[e].link.length;a++)if("alternate"==t[e].link[a].rel){var s=t[e].link[a].href;break}return s}function k(t,e){var a=t[e].title.$t,s=t[e].content.$t,i=$("<div>").html(s);if("media$thumbnail"in t[e]){var n=t[e].media$thumbnail.url,l=n.replace("/s72-c","/w680");-1<s.indexOf("youtube.com/embed")&&(l=n.replace("/default.","/hqdefault."))}else l=-1<s.indexOf("<img")?i.find("img:first").attr("src"):noThumbnail;return'<img class="post-thumb" alt="'+a+'" src="'+l+'"/>'}function C(t,e){if(null!=t[e].category)var a='<span class="post-tag">'+t[e].category[0].term+"</span>";else a="";return a}function i(b,w,t,x){if(w.match("mega-menu")||w.match("hot-posts")||w.match("featured")||w.match("post-list")||w.match("related")){var e="";if("recent"==x)e="/feeds/posts/default?alt=json-in-script&max-results="+t;else if("random"==x)e="/feeds/posts/default?max-results="+t+"&start-index="+(Math.floor(Math.random()*t)+1)+"&alt=json-in-script";else e="/feeds/posts/default/-/"+x+"?alt=json-in-script&max-results="+t;$.ajax({url:e,type:"get",dataType:"jsonp",beforeSend:function(){w.match("hot-posts")&&b.html('<div class="hot-loader"/>').parent().addClass("show-hot")},success:function(t){if(w.match("mega-menu"))var e='<ul class="mega-menu-inner">';else if(w.match("hot-posts"))e='<ul class="hot-posts">';else if(w.match("post-list"))e='<ul class="custom-widget">';else if(w.match("related"))e='<ul class="related-posts">';var a,s,i,n,l,r=t.feed.entry;if(null!=r){for(var o=0,c=r;o<c.length;o++){var m=y(c,o),d='<a href="'+m+'">'+c[o].title.$t+"</a>",h=k(c,o),p=C(c,o),u='<span class="post-author"><a>'+c[o].author[0].name.$t+"</a></span>",f=(s=void 0,s=c[o].published.$t,i=s.substring(0,4),n=s.substring(5,7),l=s.substring(8,10),'<span class="post-date">'+monthFormat[parseInt(n,10)-1]+" "+l+", "+i+"</span>"),g=(void 0,a=c[o].content.$t,'<p class="post-snippet">'+$("<div>").html(a).text().trim().substr(0,85)+"â€¦</p>"),v="";w.match("mega-menu")?v+='<div class="mega-item item-'+o+'"><div class="mega-content"><div class="post-image-wrap"><a class="post-image-link" href="'+m+'">'+h+"</a>"+p+'</div><h2 class="post-title">'+d+'</h2><div class="post-meta">'+f+"</div></div></div>":w.match("hot-posts")?v+='<li class="hot-item item-'+o+'"><div class="hot-item-inner"><a class="post-image-link" href="'+m+'">'+h+'</a><div class="post-info">'+p+'<h2 class="post-title">'+d+"</h2>"+g+'<div class="post-meta">'+u+f+'</div><a class="post-read-link" href="'+m+'">Read More</a></div></div></li>':w.match("post-list")?v+='<li class="item-'+o+'"><a class="post-image-link" href="'+m+'">'+h+'</a><div class="post-info"><h2 class="post-title">'+d+'</h2><div class="post-meta">'+f+"</div></div></div></li>":w.match("related")&&(v+='<li class="related-item item-'+o+'"><div class="post-image-wrap"><a class="post-image-link" href="'+m+'">'+h+"</a>"+p+'</div><h2 class="post-title">'+d+'</h2><div class="post-meta">'+f+"</div></li>"),e+=v}e+="</ul>"}else e='<ul class="no-posts">Error: No Posts Found <i class="fa fa-frown"/></ul>';w.match("mega-menu")?(b.addClass("has-sub mega-menu").append(e),b.find("a:first").attr("href",function(t,e){return e="recent"==x||"random"==x?e.replace(e,"/search/?&max-results="+postPerPage):e.replace(e,"/search/label/"+x+"?&max-results="+postPerPage)})):w.match("hot-posts")?b.html(e).parent().addClass("show-hot"):b.html(e)}})}}$("#main-menu").each(function(){for(var t=$(this).find(".LinkList ul > li").children("a"),e=t.length,a=0;a<e;a++){var s=t.eq(a),i=s.text();if("_"!==i.charAt(0))if("_"===t.eq(a+1).text().charAt(0)){var n=s.parent();n.append('<ul class="sub-menu m-sub"/>')}"_"===i.charAt(0)&&(s.text(i.replace("_","")),s.parent().appendTo(n.children(".sub-menu")))}for(a=0;a<e;a++){var l=t.eq(a),r=l.text();if("_"!==r.charAt(0))if("_"===t.eq(a+1).text().charAt(0)){var o=l.parent();o.append('<ul class="sub-menu2 m-sub"/>')}"_"===r.charAt(0)&&(l.text(r.replace("_","")),l.parent().appendTo(o.children(".sub-menu2")))}$("#main-menu ul li ul").parent("li").addClass("has-sub"),$("#main-menu .widget").addClass("show-menu")}),$("#main-menu-nav").clone().appendTo(".mobile-menu"),$(".mobile-menu .has-sub").append('<div class="submenu-toggle"/>'),$(".mobile-menu ul > li a").each(function(){var t=$(this),e=t.attr("href").trim(),a=e.toLowerCase(),s=e.split("/")[0];a.match("mega-menu")&&t.attr("href","/search/label/"+s+"?&max-results="+postPerPage)}),$(".slide-menu-toggle").on("click",function(){$("body").toggleClass("nav-active")}),$(".mobile-menu ul li .submenu-toggle").on("click",function(t){$(this).parent().hasClass("has-sub")&&(t.preventDefault(),$(this).parent().hasClass("show")?$(this).parent().removeClass("show").find("> .m-sub").slideToggle(170):$(this).parent().addClass("show").children(".m-sub").slideToggle(170))}),$(".show-search").on("click",function(){$("#nav-search").fadeIn(250).find("input").focus()}),$(".hide-search").on("click",function(){$("#nav-search").fadeOut(250).find("input").blur()}),$(".Label a, a.b-label").attr("href",function(t,e){return e.replace(e,e+"?&max-results="+postPerPage)}),$(".avatar-image-container img").attr("src",function(t,e){return e=(e=e.replace("/s35-c/","/s45-c/")).replace("//img1.blogblog.com/img/blank.gif","//4.bp.blogspot.com/-uCjYgVFIh70/VuOLn-mL7PI/AAAAAAAADUs/Kcu9wJbv790hIo83rI_s7lLW3zkLY01EA/s55-r/avatar.png")}),$(".author-description a").each(function(){$(this).attr("target","_blank")}),$(".post-nav").each(function(){var t=$("a.prev-post-link").attr("href"),e=$("a.next-post-link").attr("href");$.ajax({url:t,type:"get",success:function(t){var e=$(t).find(".blog-post h1.post-title").text();$(".post-prev a .post-nav-inner p").text(e)}}),$.ajax({url:e,type:"get",success:function(t){var e=$(t).find(".blog-post h1.post-title").text();$(".post-next a .post-nav-inner p").text(e)}})}),$(".post-body strike").each(function(){var t=$(this),e=t.text();e.match("left-sidebar")&&t.replaceWith("<style>.item #main-wrapper{float:right}.item #sidebar-wrapper{float:left}</style>"),e.match("right-sidebar")&&t.replaceWith("<style>.item #main-wrapper{float:left}.item #sidebar-wrapper{float:right}</style>"),e.match("full-width")&&t.replaceWith("<style>.item #main-wrapper{width:100%}.item #sidebar-wrapper{display:none}</style>")}),$("#main-wrapper, #sidebar-wrapper").each(function(){1==fixedSidebar&&$(this).theiaStickySidebar({additionalMarginTop:30,additionalMarginBottom:30})}),$(".back-top").each(function(){var t=$(this);$(window).on("scroll",function(){100<=$(this).scrollTop()?t.fadeIn(250):t.fadeOut(250)}),t.click(function(){$("html, body").animate({scrollTop:0},500)})}),$("#main-menu #main-menu-nav li").each(function(){var t=$(this),e=t.find("a").attr("href").trim();i(t,e.toLowerCase(),4,e.split("/")[0])}),$("#hot-section .widget-content").each(function(){var t=$(this),e=t.text().trim();i(t,e.toLowerCase(),2,e.split("/")[0])}),$(".common-widget .widget-content").each(function(){var t=$(this),e=t.text().trim(),a=e.toLowerCase(),s=e.split("/");i(t,a,s[0],s[1])}),$(".related-ready").each(function(){var t=$(this),e=t.find(".related-tag").data("label");i(t,"related",3,e)}),$(".blog-post-comments").each(function(){var t,e=commentsSystem,a=(disqus_blogger_current_url,'<div class="fb-comments" data-width="100%" data-href="'+$(location).attr("href")+'" data-numposts="5"></div>'),s="comments-system-"+e;"blogger"==e?$(this).addClass(s).show():"disqus"==e?((t=document.createElement("script")).type="text/javascript",t.async=!0,t.src="//"+disqusShortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t),$("#comments, #gpluscomments").remove(),$(this).append('<div id="disqus_thread"/>').addClass(s).show()):"facebook"==e?($("#comments, #gpluscomments").remove(),$(this).append(a).addClass(s).show()):"hide"==e?$(this).hide():$(this).addClass("comments-system-default").show()})});
